<!doctype html>
<html>
<head>
<script src="/lib/external/moment.min.js"></script>
<script src="/lib/external/jquery.min.js"></script>
<script src="/lib/external/index.js"></script>
<script src="/lib/external/bootstrap.min.js"></script>
<script src="/dist/timetable.min.js"></script>
<link rel="stylesheet" type="text/css" href="../elessar.css">
<link rel="stylesheet" type="text/css" href="../bootstrap.min.css">
</head>
<body>
  <div class="form-wrap row">
    <div class="col-xs-12">
    <div>
  </div>
  <div class="row">
    <div id="slider-1" class="col-md-12">
    </div>
  </div>
  <div id="slider-1-control" class="row">
    <div class="col-xs-6">
      <h4>Create form</h4>
      <hr>
      <form id="cerate-form-1">
        <div class="form-group">
           <label for="work_start">work_start</label>
          <input type="time" name="work_start" data-tt-model="work_start">
        </div>
         <div class="form-group">
           <label for="work_end">work_end</label>
          <input type="time" name="work_end" data-tt-model="work_end">
        </div>
         <div class="form-group">
           <label for="unpaid_minutes">unpaid_minutes</label>
          <input type="text" name="unpaid_minutes" data-tt-model="unpaid_minutes">
        </div>
         <div class="form-group">
           <label for=job_name>job_name</label>
          <input type="text" name="job_name" data-tt-model="job_name">
        </div>
         <div class="form-group">
           <label for="job_id">job_id</label>
          <input type="text" name="job_id" data-tt-model="job_id">
        </div>
         <div class="form-group">
           <label for="timecard_id">timecard_id</label>
          <input type="text" name="timecard_id" data-tt-model="timecard_id">
        </div>
        <button type="submit" class="btn btn-default" class="btn btn-primary">Create</button>
      </form>
    </div>
    <div class="col-xs-6">
      <h4>Edit form</h4><span>(reactive)</span>
      <hr>
      <form id="edit-form-1">
         <div class="form-group">
           <label for="work_start">work_start</label>
          <input type="time" name="work_start" data-tt-model="work_start">
        </div>
         <div class="form-group">
           <label for="work_end">work_end</label>
          <input type="time" name="work_end" data-tt-model="work_end">
        </div>
         <div class="form-group">
           <label for="unpaid_minutes">unpaid_minutes</label>
          <input type="text" name="unpaid_minutes" data-tt-model="unpaid_minutes">
        </div>
         <div class="form-group">
           <label for=job_name>job_name</label>
          <input type="text" name="job_name" data-tt-model="job_name">
        </div>
         <div class="form-group">
           <label for="job_id">job_id</label>
          <input type="text" name="job_id" data-tt-model="job_id">
        </div>
         <div class="form-group">
           <label for="timecard_id">timecard_id</label>
          <input type="text" name="timecard_id" data-tt-model="timecard_id">
        </div>
        <button class="btn btn-danger" data-tt-model="deleteButton">delete</button>
      </form>
    </div>
  </div>
<script>
var timeTableFirst = TimeTable();
$('#slider-1').prepend(timeTableFirst.$el);
timeTableFirst.on("click.task", function(ev, t){
  timeTableFirst.unbindTasks();
  timeTableFirst.bindTaskForm(t, $("#edit-form-1"));
}).on("changing.task", function(ev, t){
}).on("change.task", function(ev, t){
}).on("addtask", function(ev, t){
  timeTableFirst.bindTaskForm(t, $("#edit-form-1"));
}).on("delete.task", function(ev,jobId){
});

$('#cerate-form-1').submit(function(e){
  e.preventDefault();
  var sArray = $(this).serializeArray();
  var params = {};
  for(var t of sArray){
    params[t.name] = t.value;
  }
  console.log(timeTableFirst.addTask(params));
  e.preventDefault();
});
$('body').click(function(){
  timeTableFirst.unbindTasks();
});
$('input,button').click(function(ev){
  ev.stopPropagation();
});
</script>
</body>
</html>
